---
description: タスク分解に対してテックリード・シニア・DevOps・ジュニアのペルソナでレビューを実行する
handoffs:
  - label: 実装開始
    agent: speckit.implement
    prompt: タスクレビューをクリアしました。実装を開始してください
    send: true
  - label: タスク再調整
    agent: speckit.tasks
    prompt: レビュー指摘に基づいてタスクを修正してください
---

## ユーザー入力

```text
$ARGUMENTS
```

**使用方法**: `/review-tasks <tasks.mdのパス>`

## アウトライン

1. ターゲットファイルの読み込み（tasks.md）
2. 関連成果物の読み込み（spec.md, plan.md, data-model.md等）
3. 4つのペルソナでレビューを実行
4. 依存関係と並列化の分析
5. タスク網羅性のチェック
6. 判定と推奨事項を出力

## ペルソナ詳細

### テックリード
**観点**: タスクの正確性、依存関係の正しさ
**確認項目**:
- タスクが正確かつ完全か？
- 依存関係が正しいか？
- タスクサイズが適切か？
- 実装可能か？

### シニアエンジニア
**観点**: 最適化の機会、ベストプラクティス
**確認項目**:
- 最適化の機会があるか？
- ベストプラクティスに従っているか？
- コード品質が確保されるか？
- 技術的負債がないか？

### DevOpsエンジニア
**観点**: インフラ、デプロイ、モニタリング
**確認項目**:
- インフラタスクが含まれているか？
- デプロイプロセスが明確か？
- モニタリングのタスクがあるか？
- CI/CDが考慮されているか？

### ジュニアエンジニア
**観点**: タスクの明確性、実装可能性
**確認項目**:
- タスクが明確か？
- 実装のヒントがあるか？
- 文脈が十分か？
- 新人でも実装可能か？

## 依存関係分析

**依存関係グラフの確認**:
- 循環依存がないか？
- クリティカルパスが明確か？
- 並列化の機会があるか？

**並列化のルール**:
- [P] マークのタスクは並列実行可能
- 同じファイルに触れるタスクは順次実行
- 依存関係がないタスクは並列実行可能

## タスク網羅性チェック

**ユーザーストーリーごとのタスク**:
- [US1] モデル、サービス、エンドポイント、テスト
- [US2] モデル、サービス、エンドポイント、テスト
- [US3] モデル、サービス、エンドポイント、テスト

**各フェーズのタスク**:
- Phase 1: セットアップ（初期化、設定）
- Phase 2: 基盤（ブロッキング前提条件）
- Phase 3+: ユーザーストーリー
- Final: ポリッシュとクロスカッティング懸念

## 出力形式

```markdown
# タスクレビュー結果

**対象**: [tasks.mdのパス]
**レビュー日時**: [日時]

## 判定: GO / CONDITIONAL / NO-GO

[判定の理由]

## Critical Issues

[重大な問題のリスト]

## High Priority Issues

[高優先度問題のリスト]

## Medium Priority Issues

[中優先度問題のリスト]

## 依存関係分析

### 依存関係グラフ
[依存関係の図または説明]

### クリティカルパス
[クリティカルパスの特定]

### 並列化の機会
[並列実行可能なタスクのリスト]

### 循環依存のチェック
- [ ] 循環依存なし

## タスク網羅性チェック

### ユーザーストーリーごとのタスク

| ユーザーストーリー | モデル | サービス | エンドポイント | テスト | 網羅性 |
|------------------|--------|---------|---------------|--------|--------|
| US1              | [X]    | [X]     | [X]           | [X]    | 100%  |
| US2              | [X]    | [X]     | [X]           | [X]    | 100%  |
| US3              | [X]    | [X]     | [X]           | [X]    | 100%  |

### 各フェーズのタスク

| フェーズ | タスク数 | 完了予定 | 備考 |
|---------|---------|---------|------|
| Phase 1 | N       | N       | セットアップ |
| Phase 2 | N       | N       | 基盤 |
| Phase 3 | N       | N       | US1 |
| Phase 4 | N       | N       | US2 |
| Phase 5 | N       | N       | US3 |
| Final   | N       | N       | ポリッシュ |

## ペルソナ別フィードバック

### テックリード
[テックリードのフィードバック]

### シニアエンジニア
[シニアエンジニアのフィードバック]

### DevOpsエンジニア
[DevOpsエンジニアのフィードバック]

### ジュニアエンジニア
[ジュニアエンジニアのフィードバック]

## 推奨事項

[推奨事項のリスト]
```

## 品質基準

- **GO**: Critical/High問題なし、実装を進めてよい
- **CONDITIONAL**: 軽微な問題あり、修正後に進めてよい
- **NO-GO**: 重大な問題あり、修正が必要

## 次のステップ

- **GO**: `/speckit.implement` または `/swarm` で実装開始
- **CONDITIONAL**: 問題を修正し、再レビュー
- **NO-GO**: タスクを修正し、再レビュー
