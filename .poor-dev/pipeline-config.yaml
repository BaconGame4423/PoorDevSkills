# Pipeline CLI orchestrator configuration
# Used by poor-dev-cli to control runtime, model, and behavior per step.
#
# Model resolution priority: agent setting → step setting → defaults → fallback(sonnet)
# Agent-level example:
#   steps:
#     planreview:
#       model: sonnet          # step-level override
#       agents:
#         pm:
#           model: haiku       # agent-level override
#         critical:
#           model: opus

defaults:
  runtime: claude          # claude | opencode
  model: sonnet
  max_budget_usd: 5.0     # claude -p --max-budget-usd
  confirm: true            # Show confirmation prompt between steps

steps:
  intake:
    model: haiku
  # specify:
  #   model: sonnet        # inherits default
  # clarify:
  #   model: sonnet
  # plan:
  #   model: sonnet
  # planreview:
  #   model: sonnet
  #   agents:
  #     pm:
  #       model: haiku
  #     critical:
  #       model: opus
  # tasks:
  #   model: sonnet
  # tasksreview:
  #   model: sonnet
  # architecturereview:
  #   model: sonnet
  implement:
    model: opus
  # qualityreview:
  #   model: sonnet
  # phasereview:
  #   model: sonnet
